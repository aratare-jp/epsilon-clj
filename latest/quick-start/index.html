
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Rex Truong">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.3">
    
    
      
        <title>Quick Start - epsilon-clj</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1655a90d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-start" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="epsilon-clj" class="md-header__button md-logo" aria-label="epsilon-clj">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            epsilon-clj
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick Start
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/aratare-jp/epsilon-clj/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="epsilon-clj" class="md-nav__button md-logo" aria-label="epsilon-clj">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    epsilon-clj
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aratare-jp/epsilon-clj/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Quick Start
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Quick Start
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-lets-set-things-up" class="md-nav__link">
    1. Let's set things up!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-lets-make-a-model" class="md-nav__link">
    2. Let's make a model!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-lets-create-some-templates" class="md-nav__link">
    3. Let's create some templates!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-lets-create-a-template-coordinator" class="md-nav__link">
    4. Let's create a template coordinator!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-lets-start-generating-some-files" class="md-nav__link">
    5. Let's start generating some files!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-see-some-magic" class="md-nav__link">
    Let's see some magic!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrap-up" class="md-nav__link">
    Wrap Up
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Usage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../usage/CLI/" class="md-nav__link">
        CLI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../usage/programmatic/" class="md-nav__link">
        Programmatic
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-lets-set-things-up" class="md-nav__link">
    1. Let's set things up!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-lets-make-a-model" class="md-nav__link">
    2. Let's make a model!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-lets-create-some-templates" class="md-nav__link">
    3. Let's create some templates!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-lets-create-a-template-coordinator" class="md-nav__link">
    4. Let's create a template coordinator!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-lets-start-generating-some-files" class="md-nav__link">
    5. Let's start generating some files!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-see-some-magic" class="md-nav__link">
    Let's see some magic!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrap-up" class="md-nav__link">
    Wrap Up
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aratare-jp/epsilon-clj/edit/master/docs/quick-start.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="quick-start">Quick Start</h1>
<p>Welcome!</p>
<p><code>epsilon-clj</code> was created as an attempt to make <a href="https://www.eclipse.org/epsilon/">Eclipse Epsilon</a> a bit easier to 
integrate and work with, since the vanilla version lacks various features that are indispensable in today's workflow.
Having features like hot-reload enables you as a developer to work faster and easier.</p>
<p>Here we will use <code>epsilon-clj</code> to build a mini website for a library to illustrate these points.</p>
<p>Throughout this guide I will mention some fundamental concepts to demonstrate how <code>epsilon-clj</code> can help you with 
fast prototyping and building software.</p>
<h2 id="1-lets-set-things-up">1. Let's set things up!</h2>
<p>First, you need to install <code>epsilon-clj</code>. Open a new terminal window and enter the following commands:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># Our new project directory.</span>
mkdir awesome_epsilon

<span class="c1"># Move to the newly created directory.</span>
<span class="nb">cd</span> awesome_epsilon
</code></pre></div>
</td></tr></table>
<p>Now, follow the <a href="../installation/">Installation guide</a> to set <code>epsilon-clj</code> up.</p>
<p>For now, our project directory will look like this:</p>
<div class="highlight"><pre><span></span><code>awesome_epsilon
    L epsilon-clj.jar
</code></pre></div>
<h2 id="2-lets-make-a-model">2. Let's make a model!</h2>
<p>The first thing you need is a model.</p>
<p>A model is essentially a representation of a domain, concept or "thing". For example:</p>
<ul>
<li>Toy car models are little representations of real-life cars.</li>
<li>A flowchart is a representation of a process.</li>
<li>A scientific model represents a certain phenomenon in real life.</li>
</ul>
<p>A model captures the essence of a domain or problem that you are working on. Since we are building a 
library website, our model will represent our library.</p>
<p>A model in <code>epsilon-clj</code> is just a plain XML file. So create a file called <code>library.xml</code> in our newly created directory 
and insert following content into it:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span>
<span class="nt">&lt;library&gt;</span>
    <span class="nt">&lt;book</span> <span class="na">title=</span><span class="s">&quot;EMF Eclipse Modeling Framework&quot;</span> <span class="na">pages=</span><span class="s">&quot;744&quot;</span> <span class="na">public=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id&gt;</span>EMFBook<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;author&gt;</span>Dave Steinberg<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;author&gt;</span>Frank Budinsky<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;author&gt;</span>Marcelo Paternostro<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;author&gt;</span>Ed Merks<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;published&gt;</span>2009<span class="nt">&lt;/published&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
    <span class="nt">&lt;book</span>
        <span class="na">title=</span><span class="s">&quot;Eclipse Modeling Project: A Domain-Specific Language (DSL) Toolkit&quot;</span>
        <span class="na">pages=</span><span class="s">&quot;736&quot;</span> <span class="na">public=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id&gt;</span>EMPBook<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;author&gt;</span>Richard Gronback<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;published&gt;</span>2009<span class="nt">&lt;/published&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
    <span class="nt">&lt;book</span> <span class="na">title=</span><span class="s">&quot;Official Eclipse 3.0 FAQs&quot;</span> <span class="na">pages=</span><span class="s">&quot;432&quot;</span> <span class="na">public=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id&gt;</span>Eclipse3FAQs<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;author&gt;</span>John Arthorne<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;author&gt;</span>Chris Laffra<span class="nt">&lt;/author&gt;</span>
        <span class="nt">&lt;published&gt;</span>2004<span class="nt">&lt;/published&gt;</span>
    <span class="nt">&lt;/book&gt;</span>
<span class="nt">&lt;/library&gt;</span>
</code></pre></div>
</td></tr></table>
<p>You can see we have a root <code>library</code> element which contains multiple <code>book</code> elements, each has its own attributes like 
<code>title</code> and <code>page</code>, as well as <code>author</code>.</p>
<p>Your directory should now look like this:</p>
<div class="highlight"><pre><span></span><code>awesome_epsilon
    L epsilon-clj.jar
    L library.xml
</code></pre></div>
<h2 id="3-lets-create-some-templates">3. Let's create some templates!</h2>
<p>A template is like a blueprint. You build or create things based on what is described in the blueprint, just like
building a house or assembling a car. Each template will generate a file based on whatever content you have in them 
(but not every kind of content as we will see later).</p>
<p>However, templates alone are not enough: We need specific details. Having only a house blueprint is not really 
useful without the details and measurements.</p>
<p>Templates receive these details and measurements from models. To illustrate this, let's create our very first 
template. First, we need a place to store these templates. Run the following commands in your terminal:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>mkdir templates
<span class="nb">cd</span> templates
</code></pre></div>
</td></tr></table>
<p>Now, create a new file called <code>book.html.egl</code> with the following content:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>&lt;h1&gt;Book [%=index%]: [%=book.a_title%]&lt;/h1&gt;
&lt;h2&gt;Authors&lt;/h2&gt;
&lt;ul&gt;
[%  for (author in book.c_author) { %]
    &lt;li&gt;[%=author.text%]
[%  } %]
&lt;/ul&gt;
</code></pre></div>
</td></tr></table>
<p>Let's go through some interesting things we just:</p>
<ul>
<li>At line 1, we create an <code>h1</code> HTML tag based on a book's <code>index</code> and <code>title</code>.</li>
<li>From line 4 to 6, we are creating <code>li</code> tags based on a book's author.</li>
</ul>
<p>I won't go too deep into its syntax, but a more interesting question is: <em><strong>How 
does this template understand which book to use?</strong></em></p>
<p>The answer is: <em><strong>Template coordinator</strong></em>, as we will see in the very next section shortly.</p>
<p>Your directory should now look like this:</p>
<div class="highlight"><pre><span></span><code>awesome_epsilon
    L epsilon-clj.jar
    L library.xml
    L templates
        L book.html.egl
</code></pre></div>
<h2 id="4-lets-create-a-template-coordinator">4. Let's create a template coordinator!</h2>
<p>A template requires a coordinator, sort of like a controller telling what the template should do. It is also used to
expose certain data, handle validations, tell the template where to output, etc.</p>
<p>In the same directory as our template, let's create a file called <code>home.html.egx</code> with the following content:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>rule Book2PageHTML transform book : t_book {
    guard : book.b_public
    parameters {
        var params : new Map;
        params.put(&quot;index&quot;, t_book.all.indexOf(book) + 1);
        return params;
    }
    template : &quot;book.html.egl&quot;
    target : book.e_id.text + &quot;.html&quot;
}
</code></pre></div>
</td></tr></table>
<p>Wow, that's a lot. Let's dissect what is going on here:</p>
<ul>
<li>At line 1, you are declaring that you want to output the template below for every book.</li>
<li>At line 2, you are declaring that you only want to output for books that are public.</li>
<li>At line 3 to 7, you are exposing certain data to the template. Remember that <code>index</code> at line 1 in the template? 
  This is where it comes from. The passed-in data always comes as a map.</li>
<li>At line 8, you are declaring that this controller will use the <code>book.html.egl</code> template, which you just created 
  earlier. This works as a relative path.</li>
<li>At line 9, you are declaring you want to output an HTML file whose name comes from the ID of the book. This works 
  as a relative path inside the output directory.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can have multiple rules in a coordinator file. However, it can be tricky to manage since it's hard to know 
which template generates which files when you're working backward. Having, say, <code>book.html.egl</code> and <code>EMPBook.html</code> 
can make things easier when you want to know where <code>EMPBook.html</code> came from.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Speaking of nice features, <code>epsilon-clj</code> requires its name to be the same as the template it's controlling, e.g. 
<code>book.html.egl</code> and <code>book.html.egx</code>, for hot-reloading.</p>
</div>
<p>Your directory should now look like this:
<div class="highlight"><pre><span></span><code>awesome_epsilon
    L epsilon-clj.jar
    L library.xml
    L templates
        L book.html.egl
        L book.html.egx
</code></pre></div></p>
<h2 id="5-lets-start-generating-some-files">5. Let's start generating some files!</h2>
<p>Eh, not so fast, tiger! There is one last thing you need: where your generated files should go. So let's make one:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nb">cd</span> ..
mkdir output
</code></pre></div>
</td></tr></table>
<p>Your directory should now look like this:</p>
<div class="highlight"><pre><span></span><code>awesome_epsilon
    L epsilon-clj.jar
    L library.xml
    L templates
    |   L book.html.egl
    |   L book.html.egx
    L output
</code></pre></div>
<p>Now we can generate some files. <code>epsilon-clj</code> requires three things: <em><strong>templates</strong></em>, <em><strong>models</strong></em> and <em><strong>where to 
put your generated files</strong></em>. Run the following command in your terminal:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>java -jar epsilon-clj.jar -d templates -m library.xml -o output -w generate
</code></pre></div>
</td></tr></table>
<p>Let's break this down:</p>
<ul>
<li><code>-d templates</code> indicates all the templates are in the <code>templates</code> directory.</li>
<li><code>-m library.xml</code> indicates you want to use <code>library.xml</code> model.</li>
<li><code>-o output</code> indicates you want to output files at <code>output</code>.</li>
<li><code>-w</code> indicates you want to use template hot-reload. </li>
<li><code>generate</code> tells you want to generate files using the provided arguments.</li>
</ul>
<p>It should take a few seconds for <code>epsilon-clj</code> to parse everything and start doing its work. Once it's done, your 
directory should now look like this:</p>
<div class="highlight"><pre><span></span><code>awesome_epsilon
    L epsilon-clj.jar
    L library.xml
    L templates
    |   L book.html.egl
    |   L book.html.egx
    L output
        L EMPBook.html
        L EMFBook.html
</code></pre></div>
<p>Notice the two new generated files inside <code>output</code>: <code>EMPBook.html</code> and <code>EMFBook.html</code>. Let's have a look at their 
content:</p>
<p>EMFBook.html
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Book 1: EMF Eclipse Modeling Framework<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Authors<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Dave Steinberg<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Frank Budinsky<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Marcelo Paternostro<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Ed Merks<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></div></p>
<p>EMPBook.html
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Book 2: Eclipse Modeling Project: A Domain-Specific Language (DSL) Toolkit<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Authors<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Richard Gronback<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></div></p>
<p>Congratulations! You have just created the library website. You can open these files in a browser to check out their 
beauty.</p>
<h2 id="lets-see-some-magic">Let's see some magic!</h2>
<p>If you've worked with other generators before, this may seem to be similar to, well, all of them except the syntax. So 
what's so special about <code>epsilon-clj</code> and <a href="https://www.eclipse.org/epsilon/">Eclipse Epsilon</a>?</p>
<p>Let's first have some observation: Everything we've done until now is one-way: 
<div class="highlight"><pre><span></span><code>models -&gt; templates -&gt; generated files.
</code></pre></div>
This means that if you want to include other things in the generated files, they will be rewritten the next time you 
regenerate! The only way forward is to include them in the templates. However, sometimes there are things you want to 
specifically have in the generated files, but makes no sense to have them in the templates.</p>
<p>Let's imagine our library example website is so good we start selling them to people. Let's say one client wants 
to add a new piece of information at the bottom of each book. How do you approach this? You can't include
it in the generated files for the stated reason, but it also makes no sense to make it in the template because other 
clients may not want it. </p>
<p>This is where <strong><em>protected region</em></strong> comes in.</p>
<p>Protected regions are special places inside the generated files where you can safely insert your custom stuff without 
the fear of them being rewritten. In this case it is a perfect place for our custom code.</p>
<p>Let's make some changes to our <code>book.html.egl</code> template:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>&lt;h1&gt;Book [%=index%]: [%=book.a_title%]&lt;/h1&gt;
&lt;h2&gt;Authors&lt;/h2&gt;
&lt;ul&gt;
[%  for (author in book.c_author) { %]
    &lt;li&gt;[%=author.text%]
[%  } %]
&lt;/ul&gt;
[%= protected(out, &quot;&lt;!--&quot;, &quot;Enter your custom code here&quot;, false, &quot;--&gt;&quot;) %]
</code></pre></div>
</td></tr></table>
<p>Notice the last line: this is where we declare a protected region.</p>
<p><code>epsilon-clj</code> will now detect the file change and rerun the generation. After which <code>EMPBook.html</code> and <code>EMFBook.html</code> 
will have something like this at the end of the file:</p>
<div class="highlight"><pre><span></span><code><span class="c">&lt;!-- Omit for brevity --&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here off begin --&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here end --&gt;</span>
</code></pre></div>
<p>Anything between those two lines will be reserved throughout future regenerations. So let's insert some cool code into 
<code>EMPBook.html</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c">&lt;!-- Omit for brevity --&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here off begin --&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Epsilon is awesome!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here end --&gt;</span>
</code></pre></div>
<p>Nice! Let's trigger some regeneration by adding a newline in <code>book.html.egx</code> (anywhere is fine). Check the content of 
<code>EMPBook.html</code> again, and you'll see:</p>
<div class="highlight"><pre><span></span><code><span class="c">&lt;!-- Omit for brevity --&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here off begin --&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here end --&gt;</span>
</code></pre></div>
<p>Hang on! That's not right! Where's the custom code?</p>
<p>It turns out that protected regions are by default disabled: notice the word <code>off</code> at the end. Turn it on by simply 
replace <code>off</code> with <code>on</code>, and then add the custom code again. After triggering a regeneration, the content of <code>EMPBook.
html</code> is now:</p>
<div class="highlight"><pre><span></span><code><span class="c">&lt;!-- Omit for brevity --&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here on begin --&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Epsilon is awesome!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here end --&gt;</span>
</code></pre></div>
<p>Magic!</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>So why is it disabled by default if we're just going to use it anyway? It turns out that protected regions can 
also have default content, i.e. things you want to put there by default. For example, let's say we have:</p>
<div class="highlight"><pre><span></span><code>[%= startProtected(out, &quot;&lt;!--&quot;, &quot;Enter your custom code here&quot;, false, &quot;--&gt;&quot;) %]
&lt;h1&gt;Hello world!&lt;/h1&gt;
[% endProtected(out) %]
</code></pre></div>
<p>it will generate something like this:</p>
<div class="highlight"><pre><span></span><code><span class="c">&lt;!-- protected region Enter your custom code here off begin --&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello world!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="c">&lt;!-- protected region Enter your custom code here end --&gt;</span>
</code></pre></div>
<p>It is suitable for places where you want to have default content but also allow users to change the content 
later on.</p>
</div>
<h2 id="wrap-up">Wrap Up</h2>
<p>That's it! Let's recap:</p>
<ul>
<li>You've learnt what models and templates are and how they can work together to create files.</li>
<li>You've learnt how just creating files won't be enough for customisation, and how protected regions can solve this.</li>
<li>You've learnt how <code>epsilon-clj</code> can provide some nice features like hot-reload so you can work much faster.</li>
</ul>
<p>In the end, Eclipse Epsilon is just another template engine. By having a merge engine to allow us to include 
special places, we can truly take advantage of text generation without the fear of customisation.</p>
<p>Happy coding!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../installation/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installation
            </div>
          </div>
        </a>
      
      
        <a href="../usage/CLI/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              CLI
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ca5457b8.min.js"></script>
      
    
  </body>
</html>